"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2872],{43914:(e,t,a)=>{a.d(t,{D:()=>s});var n=a(67294),l=a(96206),r=a(76439),i=a(88503),o=a(56802),m=a(61290);const s=({id:e,children:t,targetURI:a,fadeOut:s=!1})=>{const c=(0,n.useCallback)((()=>{window.open((0,i.cd)(a).href)}),[a]),u={getTitle:()=>l.ag.get("action-trigger.available-in-app-only"),getDescription:()=>l.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>l.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>l.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,o.o)(),shouldHideOnScroll:!0,fadeOut:s};return n.createElement(r.P,{className:m.Z.container,id:e,onPrimaryButtonClick:c,options:u},t)}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},31610:(e,t,a)=>{a.d(t,{o:()=>s,q:()=>i.q});var n=a(67294),l=a(4236),r=a(4383),i=a(90110),o=a(56802);const m=n.memo((function({uri:e,bookUri:t,size:a=i.q.md,className:m,onClick:s=(()=>{})}){const[c,u]=(0,r.Z)(t),d=(0,o.o)(),g=(0,l.k)(),p=(0,n.useCallback)((()=>{d({targetUri:t,intent:"add-to-library",type:"click"}),u(!0)}),[d,t,u]);return n.createElement(i.o,{className:m,isFollowing:c,canDownload:g,onFollow:p,uri:e,size:a,onClick:s})})),s=n.memo((function(e){return n.createElement(m,e)}))},80219:(e,t,a)=>{a.d(t,{s:()=>d});var n=a(67294),l=a(56802);const r=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function i(e,t){return e.filter((e=>e.label?e.label===t:e.width?r(e.width)===t:!!e.height&&r(e.height)===t))[0]}var o=a(67789);function m(e){const t=i(e,"standard"),a=i(e,"large"),n=i(e,"small"),l=i(e,"xlarge");return{image_url:t?.url,image_height:t?.height?.toString(),image_width:t?.width?.toString(),image_url_large:a?.url,image_height_large:a?.height?.toString(),image_width_large:a?.width?.toString(),image_url_small:n?.url,image_height_small:n?.height?.toString(),image_width_small:n?.width?.toString(),image_url_xlarge:l?.url,image_height_xlarge:l?.height?.toString(),image_width_xlarge:l?.width?.toString()}}var s=a(23716),c=a(69691),u=a(42781);function d(e,t){const a=(0,l.o)(),r=(0,s.g)(),{isPlaying:i,isActive:d}=(0,c.$o)(e?.uri||""),{isActive:g}=(0,c.cR)(t?.uri||"");return(0,n.useCallback)((n=>{if(!t||!e)return;const l=function(e,t){const a=(e.coverArt?.sources||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),n=(0,o.Xb)(e,t),l=(0,o.Ie)(t)||n;return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...m(a),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:n,anonymousPlaybackAllowed:l}}(e,t);g&&!i&&d&&!n?r.resume():g&&i&&!n?(a({type:"click",intent:"pause",targetUri:e.uri}),r.pause()):(a({type:"click",intent:"play",targetUri:e.uri}),r.play({uri:t.uri,pages:[{items:[{type:u.p.EPISODE,uri:e.uri,uid:null,metadata:l,provider:null}]}]},{referrerIdentifier:r.getReferrer(),featureIdentifier:"episode"},n))}),[d,i,g,r,a,t,e])}},20238:(e,t,a)=>{a.d(t,{o:()=>O});var n=a(67294),l=a(96206);const r="CTqnyEX1E8bCstZSENX_",i="wuGkmgD03o8t6Ekc6PUk",o="l1ZEvEBLXHaRxKZTgG2Q",m="KXlcyuHuR1UPYVsnF3zF";var s=a(69559),c=a(28760),u=a(52865),d=a(58548);const g=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;function p(e){return e.split(g).map((e=>{if(e.match(g)){return`(<time>${e.replace("(","").replace(")","")}</time>)`}return e})).join("")}const h=n.memo((function({text:e,onTimeStampClick:t,children:a,className:l,LinkComponent:r,enableTimestamps:i=!1}){const o=(0,n.useMemo)((()=>{const a=(0,u.ZU)(e),l=i?p(a):a;return n.createElement(d.NB,{source:l,LinkComponent:r,onTimeStampClick:t})}),[e,i,r,t]);return n.createElement(c.Dy,{as:"p",variant:"ballad",className:l},o,a)})),b="AFGg70Z_GfjSDTYBWyEq",k=n.memo((function({text:e,onTimeStampClick:t,onToggle:a,className:r,LinkComponent:i,enableTimestamps:o}){return n.createElement(h,{className:r,text:e,onTimeStampClick:t,LinkComponent:i,enableTimestamps:o},n.createElement("button",{"aria-expanded":!1,className:b,onClick:a},n.createElement(c.Dy,{variant:"balladBold"},"â€¦ ",l.ag.get("mwp.see.more"))))})),f=(e,t,a)=>{const n=l.ag.get("mwp.see.more").length,r=e.length+n+6;return a<=1&&r<t},E=n.memo((function({paragraphs:e,clickHandler:t,maxCharactersPerLine:a,maxLines:r,toggleExpandedState:i,LinkComponent:o,className:m,enableTimestamps:s}){let c=!1,u=0;const d=e.map(((d,g)=>{const p=Math.round(d.length/a);if(u+=p>0?p:1,c)return null;const b=r-(u-p);if(g+1===e.length&&(f(d,a,b)||p<=b))return n.createElement(h,{className:m,text:d,onTimeStampClick:t,LinkComponent:o,enableTimestamps:s,key:g});if(u>=r){c=!0;const e=((e,t,a)=>{const n=l.ag.get("mwp.see.more").length;if(f(e,t,a))return e;const r=t*a-n-6;return e.slice(0,r)})(d,a,b);return n.createElement(k,{key:g,text:e,onTimeStampClick:t,onToggle:i,className:m,LinkComponent:o,enableTimestamps:s})}return n.createElement(h,{className:m,text:d,onTimeStampClick:t,LinkComponent:o,enableTimestamps:s,key:g})}));return n.createElement(n.Fragment,null,d)}));var C=a(65598),y=a.n(C),x=a(19594),S=a(67892);const _="xgmjVLxjqfcXK5BV_XyN",v="QD13ZfPiO5otS0PU89wG",N="ZbLneLRe2x_OBOYZMX3M",T="rjdQaIDkSgcGmxkdI2vU",w="umouqjSkMUbvF4I_Xz6r",L=n.memo((function({html:e,onTimeStampClick:t,enableTimestamps:a=!1}){const l=(0,n.useMemo)((()=>{const n=a?p(e):e;return y()(n,{transform:B(t),dangerouslySetChildren:[]})}),[a,e,t]);return n.createElement("div",{className:_},l)}));function B(e){let t=0;return{p:e=>n.createElement(c.Dy,{as:"p",variant:"ballad",semanticColor:"textSubdued",className:w},e.children),a:t=>t.href?.startsWith("#t=")?n.createElement(x.E,{onClick:e},t.children):t.href?n.createElement(S.r,{to:t.href},t.children):n.createElement(n.Fragment,null,t.children),ul:e=>n.createElement("ul",{className:N},e.children),ol:e=>n.createElement("ol",{className:N},e.children),li:e=>n.createElement(c.Dy,{as:"li",variant:"ballad",semanticColor:"textSubdued",className:T},e.children),br:()=>n.createElement("br",null),h1:e=>n.createElement(c.Dy,{as:"h1",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h2:e=>n.createElement(c.Dy,{as:"h2",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h3:e=>n.createElement(c.Dy,{as:"h3",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h4:e=>n.createElement(c.Dy,{as:"h4",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h5:e=>n.createElement(c.Dy,{as:"h5",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h6:e=>n.createElement(c.Dy,{as:"h6",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),time:t=>n.createElement(x.E,{onClick:e},t.children),_:(e,a,l)=>{const r=void 0===a?e:l;return n.createElement(n.Fragment,{key:"fragment"+t++},r)}}}const D={isOpen:!1,contentWidth:0},P=(e,t)=>({...e,...t}),U=(e="")=>e.split(/[ \u00a0]{2}/).filter(Boolean),O=n.memo((function({content:e,htmlContent:t,maxLines:a=2,className:u,onTimeStampClick:d=(()=>{}),LinkComponent:g,onExpanded:p,enableTimestamps:b=!1}){const[k,f]=(0,n.useReducer)(P,D),{isOpen:C,contentWidth:y}=k,x=(0,n.useCallback)((()=>{f({isOpen:!C}),p&&p(!C)}),[C,p]);(0,n.useEffect)((()=>{f({isOpen:!1})}),[e]);const S=y?y/7.8:Number.MAX_VALUE,_=(0,n.useRef)(null),v=(0,n.useCallback)((e=>{e&&(_.current=e,f({contentWidth:e.clientWidth}))}),[]),N=(0,n.useMemo)((()=>t?n.createElement(L,{html:t,onTimeStampClick:d,enableTimestamps:b}):((e,t,a,l)=>U(e).map(((e,r)=>n.createElement(h,{className:i,text:e,onTimeStampClick:t,enableTimestamps:a,LinkComponent:l,key:r}))))(e,d,b,g)),[g,e,b,t,d]),T=(0,n.useMemo)((()=>t?((e="")=>e.replace("<p>","").split(/(?:<\/p>)/).filter(Boolean))(t):U(e)),[e,t]);return(0,s.a)((()=>{_.current&&f({contentWidth:_.current.clientWidth})})),n.createElement("div",{className:u},n.createElement("div",{ref:v,className:r},C&&n.createElement(n.Fragment,null,N,n.createElement("button",{"aria-expanded":!0,className:m,onClick:x},n.createElement(c.Dy,{className:o,variant:"balladBold"},l.ag.get("show_less")))),!C&&n.createElement(E,{className:i,paragraphs:T,LinkComponent:g,clickHandler:d,enableTimestamps:b,maxCharactersPerLine:S,maxLines:a,toggleExpandedState:x})))}))},60410:(e,t,a)=>{a.d(t,{S:()=>l,g:()=>r});var n=a(86649);function l(e){return!e.playability?.playable&&e.playability?.reason===n.WY.PaymentRequired}function r(e){return!!e&&e.some(l)}}}]);
//# sourceMappingURL=2872.js.map